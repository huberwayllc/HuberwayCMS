$((function(){$(document).on("click",".btn-trigger-add-address",(function(e){e.preventDefault(),$("#add-address-modal").modal("show")})),$(document).on("click","#confirm-add-address-button",(function(e){e.preventDefault();var t=$(e.currentTarget);HuberwayCMS.showButtonLoading(t);var o=t.closest(".modal-content").find("form"),a=o.prop("action"),n=o.serialize();$httpClient.make().post(a,n).then((function(e){var t=e.data;t.error?HuberwayCMS.showNotice("error",t.message):(HuberwayCMS.showNotice("success",t.message),$("#add-address-modal").modal("hide"),o.get(0).reset(),$("#address-histories").load($(".page-content form").prop("action")+" #address-histories > *"))})).finally((function(){HuberwayCMS.hideButtonLoading(t)}))})),$(document).on("click",".btn-trigger-edit-address",(function(e){e.preventDefault();var t=$(e.currentTarget),o=$("#edit-address-modal"),a=o.find(".modal-loading-block"),n=$("#edit-address-modal .modal-body .modal-form-content");n.html(""),a.removeClass("d-none"),o.modal("show"),HuberwayCMS.showButtonLoading(t),$httpClient.make().get(t.data("section")).then((function(e){var t=e.data;t.error?HuberwayCMS.showNotice("error",t.message):(a.addClass("d-none"),n.html(t))})).finally((function(){HuberwayCMS.hideButtonLoading(t)}))})),$(document).on("click","#confirm-edit-address-button",(function(e){e.preventDefault();var t=$(e.currentTarget);HuberwayCMS.showButtonLoading(t);var o=t.closest(".modal-content").find("form"),a=o.prop("action"),n=o.serialize();$httpClient.make().post(a,n).then((function(e){var t=e.data;t.error?HuberwayCMS.showNotice("error",t.message):(HuberwayCMS.showNotice("success",t.message),$("#edit-address-modal").modal("hide"),o.get(0).reset(),$("#address-histories").load($(".page-wrapper form").prop("action")+" #address-histories > *"))})).finally((function(){HuberwayCMS.hideButtonLoading(t)}))})),$(document).on("click",".deleteDialog",(function(e){e.preventDefault();var t=$(e.currentTarget);$(".delete-crud-entry").data("section",t.data("section")),$(".modal-confirm-delete").modal("show")})),$(".delete-crud-entry").on("click",(function(e){e.preventDefault();var t=$(e.currentTarget);HuberwayCMS.showButtonLoading(t);var o=t.data("section");$httpClient.make().post(o,{_method:"DELETE"}).then((function(e){var o=e.data;if(o.error)HuberwayCMS.showError(o.message);else{HuberwayCMS.showSuccess(o.message);var a=$(".page-wrapper form").prop("action");$("#address-histories").load(a+" #address-histories > *")}t.closest(".modal").modal("hide")})).finally((function(){HuberwayCMS.hideButtonLoading(t)}))}))}));